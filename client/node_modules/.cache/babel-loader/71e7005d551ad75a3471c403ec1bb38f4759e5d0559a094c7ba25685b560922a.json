{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rishav jha\\\\Projects\\\\WinkEatFInal\\\\client\\\\src\\\\User\\\\Pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer, useEffect } from \"react\";\nimport \"../Styles/Cart.css\";\nimport ContextCart from \"../Components/ContextCart\";\nimport PizzaData from \"../PizzaData\";\nimport { reducer } from \"../Components/reducer.js\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nconst initialState = {\n  item: PizzaData,\n  totalAmount: 0,\n  totalItem: 0\n};\nconst Cart = () => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [Loader, setLoader] = useState(false);\n  const [error, setError] = useState(\"\");\n  // to delet individual item from cart \n  const removeItem = id => {\n    return dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: id\n    });\n  };\n\n  // increment of item\n  const increment = id => {\n    return dispatch({\n      type: \"INCREMENT\",\n      payload: id\n    });\n  };\n  const decrement = id => {\n    return dispatch({\n      type: \"DECREMENT\",\n      payload: id\n    });\n  };\n  const [cartData, setCartData] = useState([]);\n  useEffect(() => {\n    dispatch({\n      type: \"GET_TOTAL\"\n    });\n    try {\n      const fetchItData = async () => {\n        await axios.get(`api/user/getcart`).then(res => {\n          console.log(\"abayega data2\");\n          setCartData(res.data.cartItem);\n          console.log(cartData);\n        }).catch(err => {});\n      };\n      fetchItData();\n    } catch (error) {\n      setError(error.message);\n    }\n    setLoader(false);\n  }, [cartData]);\n  return Loader ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loader\",\n    children: \"LOader\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 14\n  }, this) : /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      ...state,\n      removeItem,\n      increment,\n      decrement\n    },\n    children: /*#__PURE__*/_jsxDEV(ContextCart, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 7\n  }, this);\n};\n_s(Cart, \"XuPl2g+0ZvOOIhbjz4alxls8dZk=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","createContext","useReducer","useEffect","ContextCart","PizzaData","reducer","useState","axios","CartContext","initialState","item","totalAmount","totalItem","Cart","state","dispatch","Loader","setLoader","error","setError","removeItem","id","type","payload","increment","decrement","cartData","setCartData","fetchItData","get","then","res","console","log","data","cartItem","catch","err","message"],"sources":["C:/Users/rishav jha/Projects/WinkEatFInal/client/src/User/Pages/Cart.js"],"sourcesContent":["import React, { createContext, useReducer, useEffect} from \"react\";\nimport \"../Styles/Cart.css\";\nimport ContextCart from \"../Components/ContextCart\";\nimport PizzaData from \"../PizzaData\";\nimport {reducer} from \"../Components/reducer.js\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nexport const CartContext = createContext();\n\nconst initialState = {\n  item: PizzaData,\n  totalAmount: 0,\n  totalItem: 0,\n}\n\nconst Cart = () => {\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const[Loader,setLoader]=useState(false);\n  const [error, setError] = useState(\"\");\n  // to delet individual item from cart \n  const removeItem = (id) => {\n    return dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: id,\n    });\n  };\n\n  // increment of item\n  const increment = (id) => {\n    return dispatch({\n      type: \"INCREMENT\",\n      payload: id,\n    });\n  };\n\n\n  const decrement = (id) => {\n    return dispatch({\n      type: \"DECREMENT\",\n      payload: id,\n    });\n  };\nconst[cartData,setCartData]=useState([])\n  useEffect(() => {\n    dispatch({type: \"GET_TOTAL\"});\n      try {\n        const fetchItData = async ()=>{\n          await axios.get(`api/user/getcart`)\n          .then((res)=>{\n            console.log(\"abayega data2\");\n            setCartData(res.data.cartItem);\n            console.log(cartData);\n          })\n          .catch((err) => {\n            \n        })\n          \n        }\n        fetchItData();\n        \n      } catch (error) {\n        setError(error.message);\n      }\n      setLoader(false);\n    }, [cartData]);\n\n  \n \n  \n\n  return (\n    Loader ? <div className=\"loader\">LOader</div> :\n      <CartContext.Provider value={{...state, removeItem, increment, decrement}}>\n        <ContextCart />\n      </CartContext.Provider>\n  );\n  }\nexport default Cart;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,SAAS,QAAO,OAAO;AAClE,OAAO,oBAAoB;AAC3B,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,SAAS,MAAM,cAAc;AACpC,SAAQC,OAAO,QAAO,0BAA0B;AAChD,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAC1B,OAAO,MAAMC,WAAW,gBAAGR,aAAa,EAAE;AAE1C,MAAMS,YAAY,GAAG;EACnBC,IAAI,EAAEN,SAAS;EACfO,WAAW,EAAE,CAAC;EACdC,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,IAAI,GAAG,MAAM;EAAA;EAEjB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,UAAU,CAACI,OAAO,EAAEI,YAAY,CAAC;EAC3D,MAAK,CAACO,MAAM,EAACC,SAAS,CAAC,GAACX,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC;EACA,MAAMc,UAAU,GAAIC,EAAE,IAAK;IACzB,OAAON,QAAQ,CAAC;MACdO,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAEF;IACX,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMG,SAAS,GAAIH,EAAE,IAAK;IACxB,OAAON,QAAQ,CAAC;MACdO,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAEF;IACX,CAAC,CAAC;EACJ,CAAC;EAGD,MAAMI,SAAS,GAAIJ,EAAE,IAAK;IACxB,OAAON,QAAQ,CAAC;MACdO,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAEF;IACX,CAAC,CAAC;EACJ,CAAC;EACH,MAAK,CAACK,QAAQ,EAACC,WAAW,CAAC,GAACrB,QAAQ,CAAC,EAAE,CAAC;EACtCJ,SAAS,CAAC,MAAM;IACda,QAAQ,CAAC;MAACO,IAAI,EAAE;IAAW,CAAC,CAAC;IAC3B,IAAI;MACF,MAAMM,WAAW,GAAG,YAAU;QAC5B,MAAMrB,KAAK,CAACsB,GAAG,CAAE,kBAAiB,CAAC,CAClCC,IAAI,CAAEC,GAAG,IAAG;UACXC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;UAC5BN,WAAW,CAACI,GAAG,CAACG,IAAI,CAACC,QAAQ,CAAC;UAC9BH,OAAO,CAACC,GAAG,CAACP,QAAQ,CAAC;QACvB,CAAC,CAAC,CACDU,KAAK,CAAEC,GAAG,IAAK,CAElB,CAAC,CAAC;MAEF,CAAC;MACDT,WAAW,EAAE;IAEf,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,QAAQ,CAACD,KAAK,CAACoB,OAAO,CAAC;IACzB;IACArB,SAAS,CAAC,KAAK,CAAC;EAClB,CAAC,EAAE,CAACS,QAAQ,CAAC,CAAC;EAMhB,OACEV,MAAM,gBAAG;IAAK,SAAS,EAAC,QAAQ;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAAa,gBAC3C,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAC,GAAGF,KAAK;MAAEM,UAAU;MAAEI,SAAS;MAAEC;IAAS,CAAE;IAAA,uBACxE,QAAC,WAAW;MAAA;MAAA;MAAA;IAAA;EAAG;IAAA;IAAA;IAAA;EAAA,QACM;AAE3B,CAAC;AAAA,GA9DGZ,IAAI;AAAA,KAAJA,IAAI;AA+DV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}